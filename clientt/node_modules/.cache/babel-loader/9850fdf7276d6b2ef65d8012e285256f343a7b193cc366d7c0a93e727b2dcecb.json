{"ast":null,"code":"import _regeneratorRuntime from\"/home/enes/Desktop/16ocak lamadev bllog/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/enes/Desktop/16ocak lamadev bllog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import\"./login.css\";import{Link}from'react-router-dom';import{useContext,useRef}from'react';import{Context}from'../../context/Context';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var userRef=useRef();var passwordRef=useRef();var _useContext=useContext(Context),dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch({type:\"LOGIN_START\"});_context.prev=2;_context.next=5;return axios.post(\"/auth/login\",{username:userRef.current.value,password:passwordRef.current.value});case 5:res=_context.sent;dispatch({type:\"LOGIN_SUCCESS\",payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:\"LOGIN_FAILURE\"});case 12:case\"end\":return _context.stop();}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"loginTitle\",children:\"LOGIN\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{ref:userRef,className:\"loginInput\",type:\"text\",placeholder:\"Enter Your Username...\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{ref:passwordRef,className:\"loginInput\",type:\"text\",placeholder:\"Enter Your Password...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",type:\"submit\",disabled:isFetching,children:\"Login\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"loginRegisterButton\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/register\",children:\"Register\"})})]});};export default Login;","map":{"version":3,"names":["Link","useContext","useRef","Context","axios","Login","userRef","passwordRef","dispatch","isFetching","handleSubmit","e","preventDefault","type","post","username","current","value","password","res","payload","data"],"sources":["/home/enes/Desktop/16ocak lamadev bllog/client/src/pages/login/Login.jsx"],"sourcesContent":["import \"./login.css\";\nimport {Link} from 'react-router-dom';\nimport {useContext, useRef} from 'react';\nimport {Context} from '../../context/Context';\nimport axios from 'axios';\n\n\nconst Login = () => {\n    const userRef = useRef();\n    const passwordRef = useRef();\n    const {dispatch, isFetching} = useContext(Context);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        dispatch({type : \"LOGIN_START\"});\n        try{\n            const res = await axios.post(\"/auth/login\",{\n                username : userRef.current.value,\n                password : passwordRef.current.value,\n            });\n            dispatch({type : \"LOGIN_SUCCESS\", payload: res.data});\n        }catch(err){\n            dispatch({type : \"LOGIN_FAILURE\"});\n        }\n    };\n    return (\n        <div className=\"login\">\n            <span className=\"loginTitle\">LOGIN</span>\n            <form className=\"loginForm\" onSubmit={handleSubmit}>\n                <label>Username</label>\n                <input ref={userRef} className=\"loginInput\" type=\"text\" placeholder=\"Enter Your Username...\"/>\n                <label>Password</label>\n                <input ref={passwordRef} className=\"loginInput\" type=\"text\" placeholder=\"Enter Your Password...\"/>\n                <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>Login</button>\n            </form>\n            <button className=\"loginRegisterButton\">\n                <Link className=\"link\" to=\"/register\">Register</Link>\n            </button>\n        </div>\n    )\n}\n\nexport default Login;"],"mappings":"wRAAA,MAAO,aAAa,CACpB,OAAQA,IAAI,KAAO,kBAAkB,CACrC,OAAQC,UAAU,CAAEC,MAAM,KAAO,OAAO,CACxC,OAAQC,OAAO,KAAO,uBAAuB,CAC7C,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAG1B,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAChB,GAAMC,QAAO,CAAGJ,MAAM,EAAE,CACxB,GAAMK,YAAW,CAAGL,MAAM,EAAE,CAC5B,gBAA+BD,UAAU,CAACE,OAAO,CAAC,CAA3CK,QAAQ,aAARA,QAAQ,CAAEC,UAAU,aAAVA,UAAU,CAC3B,GAAMC,aAAY,4FAAG,iBAAOC,CAAC,2HACzBA,CAAC,CAACC,cAAc,EAAE,CAClBJ,QAAQ,CAAC,CAACK,IAAI,CAAG,aAAa,CAAC,CAAC,CAAC,sCAEXT,MAAK,CAACU,IAAI,CAAC,aAAa,CAAC,CACvCC,QAAQ,CAAGT,OAAO,CAACU,OAAO,CAACC,KAAK,CAChCC,QAAQ,CAAGX,WAAW,CAACS,OAAO,CAACC,KACnC,CAAC,CAAC,QAHIE,GAAG,eAITX,QAAQ,CAAC,CAACK,IAAI,CAAG,eAAe,CAAEO,OAAO,CAAED,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,+EAEtDb,QAAQ,CAAC,CAACK,IAAI,CAAG,eAAe,CAAC,CAAC,CAAC,mEAE1C,kBAZKH,aAAY,4CAYjB,CACD,mBACI,aAAK,SAAS,CAAC,OAAO,wBAClB,aAAM,SAAS,CAAC,YAAY,UAAC,OAAK,EAAO,cACzC,cAAM,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAEA,YAAa,wBAC/C,uBAAO,UAAQ,EAAQ,cACvB,cAAO,GAAG,CAAEJ,OAAQ,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,wBAAwB,EAAE,cAC9F,uBAAO,UAAQ,EAAQ,cACvB,cAAO,GAAG,CAAEC,WAAY,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,wBAAwB,EAAE,cAClG,eAAQ,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAEE,UAAW,UAAC,OAAK,EAAS,GAC/E,cACP,eAAQ,SAAS,CAAC,qBAAqB,uBACnC,KAAC,IAAI,EAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,UAAC,UAAQ,EAAO,EAChD,GACP,CAEd,CAAC,CAED,cAAeJ,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}